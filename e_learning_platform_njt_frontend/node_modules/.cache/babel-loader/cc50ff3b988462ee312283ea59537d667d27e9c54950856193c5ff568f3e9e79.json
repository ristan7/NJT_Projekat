{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mikir\\\\Documents\\\\NetBeansProjects\\\\NJT_Projekat\\\\e_learning_platform_njt_frontend\\\\src\\\\pages\\\\Notifications.jsx\",\n  _s = $RefreshSig$();\n// src/pages/Notifications.jsx\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { getMe, getNotifications, markNotificationRead, markAllNotificationsRead, getNotificationTypes, deleteNotification } from \"../api/api\";\nimport { emitUnreadChanged } from \"../api/notificationsBus\";\nimport \"../css/Notifications.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FAKE_USER_ID = 2; // dok nema auth\n\nexport default function Notifications() {\n  _s();\n  const navigate = useNavigate();\n  const [me, setMe] = useState(null);\n  const [items, setItems] = useState([]);\n  const [types, setTypes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [onlyUnread, setOnlyUnread] = useState(false);\n  const [query, setQuery] = useState(\"\");\n  const [sortKey, setSortKey] = useState(\"date_desc\");\n  const [typeFilter, setTypeFilter] = useState(\"all\");\n\n  // pagination\n  const [page, setPage] = useState(0); // 0-indexed\n  const [rowsPerPage, setRowsPerPage] = useState(100); // default as on screenshot\n  const rowsOptions = [10, 25, 50, 100];\n\n  // load\n  useEffect(() => {\n    let uid;\n    async function load() {\n      try {\n        var _u$userId;\n        setLoading(true);\n        const u = await getMe({\n          userId: FAKE_USER_ID\n        });\n        setMe(u);\n        uid = (_u$userId = u === null || u === void 0 ? void 0 : u.userId) !== null && _u$userId !== void 0 ? _u$userId : FAKE_USER_ID;\n        const [tps, list] = await Promise.all([getNotificationTypes(), getNotifications({\n          userId: uid,\n          unread: false,\n          limit: 1000\n        })]);\n        setTypes(Array.isArray(tps) ? tps : []);\n        setItems(Array.isArray(list) ? list : []);\n        setPage(0);\n      } catch (e) {\n        console.error(\"Error loading notifications:\", e);\n        setItems([]);\n      } finally {\n        setLoading(false);\n      }\n    }\n    load();\n  }, []);\n\n  // types map\n  const typesMap = useMemo(() => {\n    const m = new Map();\n    for (const t of types || []) {\n      if (!t) continue;\n      const id = Number(t.id);\n      if (Number.isFinite(id)) {\n        m.set(id, t.notificationTypeName || t.name || \"\");\n      }\n    }\n    return m;\n  }, [types]);\n  const getTypeId = n => {\n    var _ref, _ref2, _ref3, _n$notificationTypeId, _n$type, _n$notificationType;\n    return (_ref = (_ref2 = (_ref3 = (_n$notificationTypeId = n === null || n === void 0 ? void 0 : n.notificationTypeId) !== null && _n$notificationTypeId !== void 0 ? _n$notificationTypeId : n === null || n === void 0 ? void 0 : n.typeId) !== null && _ref3 !== void 0 ? _ref3 : n === null || n === void 0 ? void 0 : (_n$type = n.type) === null || _n$type === void 0 ? void 0 : _n$type.id) !== null && _ref2 !== void 0 ? _ref2 : n === null || n === void 0 ? void 0 : (_n$notificationType = n.notificationType) === null || _n$notificationType === void 0 ? void 0 : _n$notificationType.id) !== null && _ref !== void 0 ? _ref : null;\n  };\n\n  // visible after filters + sort\n  const visible = useMemo(() => {\n    let arr = Array.isArray(items) ? [...items] : [];\n    if (onlyUnread) arr = arr.filter(n => !n.read);\n    if (typeFilter !== \"all\") {\n      const idNum = Number(typeFilter);\n      arr = arr.filter(n => Number(getTypeId(n)) === idNum);\n    }\n    if (query.trim()) {\n      const q = query.trim().toLowerCase();\n      arr = arr.filter(n => {\n        const title = (n.notificationTitle || n.title || \"\").toLowerCase();\n        const msg = (n.message || n.notificationMessage || n.body || \"\").toLowerCase();\n        const tName = (typesMap.get(Number(getTypeId(n))) || \"\").toLowerCase();\n        return title.includes(q) || msg.includes(q) || tName.includes(q);\n      });\n    }\n    arr.sort((a, b) => {\n      switch (sortKey) {\n        case \"title_asc\":\n        case \"title_desc\":\n          {\n            const A = (a.notificationTitle || a.title || \"\").toLowerCase();\n            const B = (b.notificationTitle || b.title || \"\").toLowerCase();\n            const cmp = A.localeCompare(B);\n            return sortKey === \"title_asc\" ? cmp : -cmp;\n          }\n        case \"type_asc\":\n        case \"type_desc\":\n          {\n            const A = (typesMap.get(Number(getTypeId(a))) || \"\").toLowerCase();\n            const B = (typesMap.get(Number(getTypeId(b))) || \"\").toLowerCase();\n            const cmp = A.localeCompare(B);\n            return sortKey === \"type_asc\" ? cmp : -cmp;\n          }\n        case \"date_asc\":\n        case \"date_desc\":\n        default:\n          {\n            const A = new Date(a.sentAt || a.createdAt || a.date || 0).getTime();\n            const B = new Date(b.sentAt || b.createdAt || b.date || 0).getTime();\n            return sortKey === \"date_asc\" ? A - B : B - A;\n          }\n      }\n    });\n    return arr;\n  }, [items, onlyUnread, query, sortKey, typeFilter, typesMap]);\n\n  // reset page when filters change or rowsPerPage change to keep valid start\n  useEffect(() => {\n    setPage(0);\n  }, [onlyUnread, query, sortKey, typeFilter, rowsPerPage, items]);\n\n  // pagination slice\n  const total = visible.length;\n  const start = Math.min(page * rowsPerPage, total);\n  const end = Math.min(start + rowsPerPage, total);\n  const pageItems = visible.slice(start, end);\n\n  // actions\n  async function handleMarkRead(id) {\n    const prev = items;\n    setItems(list => list.map(n => n.notificationId === id || n.id === id ? {\n      ...n,\n      read: true\n    } : n));\n    try {\n      await markNotificationRead(id);\n      emitUnreadChanged();\n    } catch {\n      setItems(prev);\n    }\n  }\n  async function handleDelete(id) {\n    const prev = items;\n    setItems(list => list.filter(n => n.notificationId !== id && n.id !== id));\n    try {\n      await deleteNotification(id);\n      emitUnreadChanged();\n    } catch {\n      alert(\"GreÅ¡ka pri brisanju notifikacije.\");\n      setItems(prev);\n    }\n  }\n  async function handleMarkAll() {\n    if (!(me !== null && me !== void 0 && me.userId)) return;\n    const prev = items;\n    setItems(list => list.map(n => ({\n      ...n,\n      read: true\n    })));\n    try {\n      await markAllNotificationsRead(me.userId);\n      emitUnreadChanged();\n    } catch {\n      setItems(prev);\n    }\n  }\n\n  // pagination nav handlers\n  function goPrev() {\n    setPage(p => Math.max(0, p - 1));\n  }\n  function goNext() {\n    const maxPage = Math.max(0, Math.ceil(total / rowsPerPage) - 1);\n    setPage(p => Math.min(maxPage, p + 1));\n  }\n  function handleRowsChange(e) {\n    setRowsPerPage(Number(e.target.value));\n    setPage(0);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"n-head\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"n-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"who\",\n          children: [me === null || me === void 0 ? void 0 : me.firstName, \" \", me === null || me === void 0 ? void 0 : me.lastName, \" \\u2022 \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"muted\",\n            children: me === null || me === void 0 ? void 0 : me.userEmail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 46\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"n-filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"n-search\",\n            placeholder: \"Pretraga po naslovu, poruci ili tipu\\u2026\",\n            value: query,\n            onChange: e => setQuery(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"n-check\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: onlyUnread,\n              onChange: e => setOnlyUnread(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Samo nepro\\u010Ditane\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"n-select\",\n            value: typeFilter,\n            onChange: e => setTypeFilter(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"Svi tipovi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), (types || []).map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: t.id,\n              children: t.notificationTypeName || t.name\n            }, t.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"n-select\",\n            value: sortKey,\n            onChange: e => setSortKey(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"date_desc\",\n              children: \"Datum (novije prvo)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"date_asc\",\n              children: \"Datum (starije prvo)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"title_asc\",\n              children: \"Naslov A\\u2013Z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"title_desc\",\n              children: \"Naslov Z\\u2013A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"type_asc\",\n              children: \"Tip A\\u2013Z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"type_desc\",\n              children: \"Tip Z\\u2013A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"n-right\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn primary\",\n          onClick: handleMarkAll,\n          children: \"Ozna\\u010Di sve kao pro\\u010Ditano\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card n-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"n-table head\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"#\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Naslov\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Tip\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Poruka\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Poslato\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Akcije\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"n-skeleton\",\n        children: \"U\\u010Ditavanje\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this) : pageItems.map((n, idx) => {\n        var _n$notificationId;\n        const id = (_n$notificationId = n.notificationId) !== null && _n$notificationId !== void 0 ? _n$notificationId : n.id;\n        const title = n.notificationTitle || n.title || \"â\";\n        const msg = n.message || n.notificationMessage || n.body || \"â\";\n        const sent = n.sentAt || n.createdAt || n.date;\n        const tId = Number(getTypeId(n));\n        const tName = typesMap.get(tId) || \"â\";\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `n-table row ${n.read ? \"is-read\" : \"\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: start + idx + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"n-title\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"type-pill\",\n              children: tName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"n-msg\",\n            children: msg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"n-date\",\n            children: sent ? new Date(sent).toLocaleString() : \"â\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"n-actions\",\n            children: [n.read ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge read\",\n              children: \"Pro\\u010Ditano\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn ghost sm\",\n              onClick: () => handleMarkRead(id),\n              children: \"Ozna\\u010Di pro\\u010Ditano\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn ghost sm danger\",\n              onClick: () => {\n                if (window.confirm(\"Da li stvarno Å¾eliÅ¡ da obriÅ¡eÅ¡ notifikaciju?\")) {\n                  handleDelete(id);\n                }\n              },\n              style: {\n                marginLeft: 8\n              },\n              children: \"Obri\\u0161i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 17\n          }, this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 15\n        }, this);\n      }), !loading && pageItems.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"n-empty muted\",\n        children: \"Nema rezultata za dati filter/pretragu.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"n-pagination\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"n-pagination-left\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Rows per page:\\xA0\", /*#__PURE__*/_jsxDEV(\"select\", {\n              value: rowsPerPage,\n              onChange: handleRowsChange,\n              children: rowsOptions.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: r,\n                children: r\n              }, r, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"n-pagination-center\",\n          children: total === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"0 of 0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [total === 0 ? 0 : start + 1, \"\\u2013\", end, \" of \", total]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"n-pagination-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn ghost sm\",\n            onClick: goPrev,\n            disabled: page <= 0,\n            children: \"\\u25C0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn ghost sm\",\n            onClick: goNext,\n            disabled: end >= total || total === 0,\n            style: {\n              marginLeft: 6\n            },\n            children: \"\\u25B6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n}\n_s(Notifications, \"xUH3A6d/9A8iRnS3aMcz63pgjHw=\", false, function () {\n  return [useNavigate];\n});\n_c = Notifications;\nvar _c;\n$RefreshReg$(_c, \"Notifications\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","getMe","getNotifications","markNotificationRead","markAllNotificationsRead","getNotificationTypes","deleteNotification","emitUnreadChanged","useNavigate","jsxDEV","_jsxDEV","FAKE_USER_ID","Notifications","_s","navigate","me","setMe","items","setItems","types","setTypes","loading","setLoading","onlyUnread","setOnlyUnread","query","setQuery","sortKey","setSortKey","typeFilter","setTypeFilter","page","setPage","rowsPerPage","setRowsPerPage","rowsOptions","uid","load","_u$userId","u","userId","tps","list","Promise","all","unread","limit","Array","isArray","e","console","error","typesMap","m","Map","t","id","Number","isFinite","set","notificationTypeName","name","getTypeId","n","_ref","_ref2","_ref3","_n$notificationTypeId","_n$type","_n$notificationType","notificationTypeId","typeId","type","notificationType","visible","arr","filter","read","idNum","trim","q","toLowerCase","title","notificationTitle","msg","message","notificationMessage","body","tName","get","includes","sort","a","b","A","B","cmp","localeCompare","Date","sentAt","createdAt","date","getTime","total","length","start","Math","min","end","pageItems","slice","handleMarkRead","prev","map","notificationId","handleDelete","alert","handleMarkAll","goPrev","p","max","goNext","maxPage","ceil","handleRowsChange","target","value","className","children","firstName","lastName","userEmail","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","checked","onClick","idx","_n$notificationId","sent","tId","toLocaleString","window","confirm","style","marginLeft","r","disabled","_c","$RefreshReg$"],"sources":["C:/Users/mikir/Documents/NetBeansProjects/NJT_Projekat/e_learning_platform_njt_frontend/src/pages/Notifications.jsx"],"sourcesContent":["// src/pages/Notifications.jsx\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport {\r\n  getMe,\r\n  getNotifications,\r\n  markNotificationRead,\r\n  markAllNotificationsRead,\r\n  getNotificationTypes,\r\n  deleteNotification,\r\n} from \"../api/api\";\r\nimport { emitUnreadChanged } from \"../api/notificationsBus\";\r\nimport \"../css/Notifications.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nconst FAKE_USER_ID = 2; // dok nema auth\r\n\r\nexport default function Notifications() {\r\n  const navigate = useNavigate();\r\n\r\n  const [me, setMe] = useState(null);\r\n  const [items, setItems] = useState([]);\r\n  const [types, setTypes] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [onlyUnread, setOnlyUnread] = useState(false);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [sortKey, setSortKey] = useState(\"date_desc\");\r\n  const [typeFilter, setTypeFilter] = useState(\"all\");\r\n\r\n  // pagination\r\n  const [page, setPage] = useState(0); // 0-indexed\r\n  const [rowsPerPage, setRowsPerPage] = useState(100); // default as on screenshot\r\n  const rowsOptions = [10, 25, 50, 100];\r\n\r\n  // load\r\n  useEffect(() => {\r\n    let uid;\r\n    async function load() {\r\n      try {\r\n        setLoading(true);\r\n        const u = await getMe({ userId: FAKE_USER_ID });\r\n        setMe(u);\r\n        uid = u?.userId ?? FAKE_USER_ID;\r\n\r\n        const [tps, list] = await Promise.all([\r\n          getNotificationTypes(),\r\n          getNotifications({ userId: uid, unread: false, limit: 1000 }),\r\n        ]);\r\n\r\n        setTypes(Array.isArray(tps) ? tps : []);\r\n        setItems(Array.isArray(list) ? list : []);\r\n        setPage(0);\r\n      } catch (e) {\r\n        console.error(\"Error loading notifications:\", e);\r\n        setItems([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    load();\r\n  }, []);\r\n\r\n  // types map\r\n  const typesMap = useMemo(() => {\r\n    const m = new Map();\r\n    for (const t of types || []) {\r\n      if (!t) continue;\r\n      const id = Number(t.id);\r\n      if (Number.isFinite(id)) {\r\n        m.set(id, t.notificationTypeName || t.name || \"\");\r\n      }\r\n    }\r\n    return m;\r\n  }, [types]);\r\n\r\n  const getTypeId = (n) =>\r\n    n?.notificationTypeId ??\r\n    n?.typeId ??\r\n    n?.type?.id ??\r\n    n?.notificationType?.id ??\r\n    null;\r\n\r\n  // visible after filters + sort\r\n  const visible = useMemo(() => {\r\n    let arr = Array.isArray(items) ? [...items] : [];\r\n\r\n    if (onlyUnread) arr = arr.filter((n) => !n.read);\r\n\r\n    if (typeFilter !== \"all\") {\r\n      const idNum = Number(typeFilter);\r\n      arr = arr.filter((n) => Number(getTypeId(n)) === idNum);\r\n    }\r\n\r\n    if (query.trim()) {\r\n      const q = query.trim().toLowerCase();\r\n      arr = arr.filter((n) => {\r\n        const title = (n.notificationTitle || n.title || \"\").toLowerCase();\r\n        const msg = (n.message || n.notificationMessage || n.body || \"\").toLowerCase();\r\n        const tName = (typesMap.get(Number(getTypeId(n))) || \"\").toLowerCase();\r\n        return title.includes(q) || msg.includes(q) || tName.includes(q);\r\n      });\r\n    }\r\n\r\n    arr.sort((a, b) => {\r\n      switch (sortKey) {\r\n        case \"title_asc\":\r\n        case \"title_desc\": {\r\n          const A = (a.notificationTitle || a.title || \"\").toLowerCase();\r\n          const B = (b.notificationTitle || b.title || \"\").toLowerCase();\r\n          const cmp = A.localeCompare(B);\r\n          return sortKey === \"title_asc\" ? cmp : -cmp;\r\n        }\r\n        case \"type_asc\":\r\n        case \"type_desc\": {\r\n          const A = (typesMap.get(Number(getTypeId(a))) || \"\").toLowerCase();\r\n          const B = (typesMap.get(Number(getTypeId(b))) || \"\").toLowerCase();\r\n          const cmp = A.localeCompare(B);\r\n          return sortKey === \"type_asc\" ? cmp : -cmp;\r\n        }\r\n        case \"date_asc\":\r\n        case \"date_desc\":\r\n        default: {\r\n          const A = new Date(a.sentAt || a.createdAt || a.date || 0).getTime();\r\n          const B = new Date(b.sentAt || b.createdAt || b.date || 0).getTime();\r\n          return sortKey === \"date_asc\" ? A - B : B - A;\r\n        }\r\n      }\r\n    });\r\n\r\n    return arr;\r\n  }, [items, onlyUnread, query, sortKey, typeFilter, typesMap]);\r\n\r\n  // reset page when filters change or rowsPerPage change to keep valid start\r\n  useEffect(() => {\r\n    setPage(0);\r\n  }, [onlyUnread, query, sortKey, typeFilter, rowsPerPage, items]);\r\n\r\n  // pagination slice\r\n  const total = visible.length;\r\n  const start = Math.min(page * rowsPerPage, total);\r\n  const end = Math.min(start + rowsPerPage, total);\r\n  const pageItems = visible.slice(start, end);\r\n\r\n  // actions\r\n  async function handleMarkRead(id) {\r\n    const prev = items;\r\n    setItems((list) =>\r\n      list.map((n) => (n.notificationId === id || n.id === id ? { ...n, read: true } : n))\r\n    );\r\n\r\n    try {\r\n      await markNotificationRead(id);\r\n      emitUnreadChanged();\r\n    } catch {\r\n      setItems(prev);\r\n    }\r\n  }\r\n\r\n  async function handleDelete(id) {\r\n    const prev = items;\r\n    setItems((list) => list.filter((n) => n.notificationId !== id && n.id !== id));\r\n\r\n    try {\r\n      await deleteNotification(id);\r\n      emitUnreadChanged();\r\n    } catch {\r\n      alert(\"GreÅ¡ka pri brisanju notifikacije.\");\r\n      setItems(prev);\r\n    }\r\n  }\r\n\r\n  async function handleMarkAll() {\r\n    if (!me?.userId) return;\r\n    const prev = items;\r\n    setItems((list) => list.map((n) => ({ ...n, read: true })));\r\n\r\n    try {\r\n      await markAllNotificationsRead(me.userId);\r\n      emitUnreadChanged();\r\n    } catch {\r\n      setItems(prev);\r\n    }\r\n  }\r\n\r\n  // pagination nav handlers\r\n  function goPrev() {\r\n    setPage((p) => Math.max(0, p - 1));\r\n  }\r\n  function goNext() {\r\n    const maxPage = Math.max(0, Math.ceil(total / rowsPerPage) - 1);\r\n    setPage((p) => Math.min(maxPage, p + 1));\r\n  }\r\n  function handleRowsChange(e) {\r\n    setRowsPerPage(Number(e.target.value));\r\n    setPage(0);\r\n  }\r\n\r\n  return (\r\n    <div className=\"page-wrap\">\r\n      <header className=\"n-head\">\r\n        <div className=\"n-left\">\r\n          <div className=\"who\">\r\n            {me?.firstName} {me?.lastName} â¢ <span className=\"muted\">{me?.userEmail}</span>\r\n          </div>\r\n\r\n          <div className=\"n-filters\">\r\n            <input\r\n              className=\"n-search\"\r\n              placeholder=\"Pretraga po naslovu, poruci ili tipuâ¦\"\r\n              value={query}\r\n              onChange={(e) => setQuery(e.target.value)}\r\n            />\r\n\r\n            <label className=\"n-check\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={onlyUnread}\r\n                onChange={(e) => setOnlyUnread(e.target.checked)}\r\n              />\r\n              <span>Samo neproÄitane</span>\r\n            </label>\r\n\r\n            <select\r\n              className=\"n-select\"\r\n              value={typeFilter}\r\n              onChange={(e) => setTypeFilter(e.target.value)}\r\n            >\r\n              <option value=\"all\">Svi tipovi</option>\r\n              {(types || []).map((t) => (\r\n                <option key={t.id} value={t.id}>\r\n                  {t.notificationTypeName || t.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n\r\n            <select\r\n              className=\"n-select\"\r\n              value={sortKey}\r\n              onChange={(e) => setSortKey(e.target.value)}\r\n            >\r\n              <option value=\"date_desc\">Datum (novije prvo)</option>\r\n              <option value=\"date_asc\">Datum (starije prvo)</option>\r\n              <option value=\"title_asc\">Naslov AâZ</option>\r\n              <option value=\"title_desc\">Naslov ZâA</option>\r\n              <option value=\"type_asc\">Tip AâZ</option>\r\n              <option value=\"type_desc\">Tip ZâA</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"n-right\">\r\n          <button className=\"btn primary\" onClick={handleMarkAll}>\r\n            OznaÄi sve kao proÄitano\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"card n-card\">\r\n        <div className=\"n-table head\">\r\n          <div>#</div>\r\n          <div>Naslov</div>\r\n          <div>Tip</div>\r\n          <div>Poruka</div>\r\n          <div>Poslato</div>\r\n          <div>Akcije</div>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"n-skeleton\">UÄitavanjeâ¦</div>\r\n        ) : (\r\n          pageItems.map((n, idx) => {\r\n            const id = n.notificationId ?? n.id;\r\n            const title = n.notificationTitle || n.title || \"â\";\r\n            const msg = n.message || n.notificationMessage || n.body || \"â\";\r\n            const sent = n.sentAt || n.createdAt || n.date;\r\n            const tId = Number(getTypeId(n));\r\n            const tName = typesMap.get(tId) || \"â\";\r\n\r\n            return (\r\n              <div key={id} className={`n-table row ${n.read ? \"is-read\" : \"\"}`}>\r\n                <div>{start + idx + 1}</div>\r\n                <div className=\"n-title\">{title}</div>\r\n                <div>\r\n                  <span className=\"type-pill\">{tName}</span>\r\n                </div>\r\n                <div className=\"n-msg\">{msg}</div>\r\n                <div className=\"n-date\">{sent ? new Date(sent).toLocaleString() : \"â\"}</div>\r\n                <div className=\"n-actions\">\r\n                  {n.read ? (\r\n                    <span className=\"badge read\">ProÄitano</span>\r\n                  ) : (\r\n                    <button className=\"btn ghost sm\" onClick={() => handleMarkRead(id)}>\r\n                      OznaÄi proÄitano\r\n                    </button>\r\n                  )}\r\n                  <button\r\n                    className=\"btn ghost sm danger\"\r\n                    onClick={() => {\r\n                      if (window.confirm(\"Da li stvarno Å¾eliÅ¡ da obriÅ¡eÅ¡ notifikaciju?\")) {\r\n                        handleDelete(id);\r\n                      }\r\n                    }}\r\n                    style={{ marginLeft: 8 }}\r\n                  >\r\n                    ObriÅ¡i\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        )}\r\n\r\n        {!loading && pageItems.length === 0 && (\r\n          <div className=\"n-empty muted\">Nema rezultata za dati filter/pretragu.</div>\r\n        )}\r\n\r\n        {/* Pagination footer */}\r\n        <div className=\"n-pagination\">\r\n          <div className=\"n-pagination-left\">\r\n            <label>\r\n              Rows per page:&nbsp;\r\n              <select value={rowsPerPage} onChange={handleRowsChange}>\r\n                {rowsOptions.map((r) => (\r\n                  <option key={r} value={r}>\r\n                    {r}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"n-pagination-center\">\r\n            {total === 0 ? (\r\n              <span>0 of 0</span>\r\n            ) : (\r\n              <span>\r\n                {total === 0 ? 0 : start + 1}â{end} of {total}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"n-pagination-right\">\r\n            <button className=\"btn ghost sm\" onClick={goPrev} disabled={page <= 0}>\r\n              â\r\n            </button>\r\n            <button\r\n              className=\"btn ghost sm\"\r\n              onClick={goNext}\r\n              disabled={end >= total || total === 0}\r\n              style={{ marginLeft: 6 }}\r\n            >\r\n              â¶\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}