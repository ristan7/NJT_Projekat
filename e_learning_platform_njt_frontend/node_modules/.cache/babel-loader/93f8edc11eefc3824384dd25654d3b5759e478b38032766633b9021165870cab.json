{"ast":null,"code":"// Jednostavan bus preko CustomEvent-a\n\nconst EVT = \"notifications:unread-changed\";\n\n// Pozovi kada se stanje nepročitanih promenilo (npr. posle mark-read / mark-all)\nexport function emitUnreadChanged() {\n  window.dispatchEvent(new CustomEvent(EVT));\n}\n\n// Navbar (ili bilo ko) sluša ovaj event i odradi refresh.\n// Vrati unsubscribe funkciju da se lepo otkačiš u useEffect cleanup-u.\nexport function onUnreadChanged(handler) {\n  window.addEventListener(EVT, handler);\n  return () => window.removeEventListener(EVT, handler);\n}","map":{"version":3,"names":["EVT","emitUnreadChanged","window","dispatchEvent","CustomEvent","onUnreadChanged","handler","addEventListener","removeEventListener"],"sources":["C:/Users/mikir/Documents/NetBeansProjects/NJT_Projekat/e_learning_platform_njt_frontend/src/api/notificationsBus.js"],"sourcesContent":["// Jednostavan bus preko CustomEvent-a\r\n\r\nconst EVT = \"notifications:unread-changed\";\r\n\r\n// Pozovi kada se stanje nepročitanih promenilo (npr. posle mark-read / mark-all)\r\nexport function emitUnreadChanged() {\r\n  window.dispatchEvent(new CustomEvent(EVT));\r\n}\r\n\r\n// Navbar (ili bilo ko) sluša ovaj event i odradi refresh.\r\n// Vrati unsubscribe funkciju da se lepo otkačiš u useEffect cleanup-u.\r\nexport function onUnreadChanged(handler) {\r\n  window.addEventListener(EVT, handler);\r\n  return () => window.removeEventListener(EVT, handler);\r\n}\r\n"],"mappings":"AAAA;;AAEA,MAAMA,GAAG,GAAG,8BAA8B;;AAE1C;AACA,OAAO,SAASC,iBAAiBA,CAAA,EAAG;EAClCC,MAAM,CAACC,aAAa,CAAC,IAAIC,WAAW,CAACJ,GAAG,CAAC,CAAC;AAC5C;;AAEA;AACA;AACA,OAAO,SAASK,eAAeA,CAACC,OAAO,EAAE;EACvCJ,MAAM,CAACK,gBAAgB,CAACP,GAAG,EAAEM,OAAO,CAAC;EACrC,OAAO,MAAMJ,MAAM,CAACM,mBAAmB,CAACR,GAAG,EAAEM,OAAO,CAAC;AACvD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}