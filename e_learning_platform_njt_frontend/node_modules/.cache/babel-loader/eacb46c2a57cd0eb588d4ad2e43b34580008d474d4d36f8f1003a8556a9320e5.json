{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mikir\\\\Documents\\\\NetBeansProjects\\\\NJT_Projekat\\\\e_learning_platform_njt_frontend\\\\src\\\\pages\\\\Notifications.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getMe, getNotifications,\n// čita SVE notifikacije korisnika\nmarkNotificationRead,\n// označava jednu\nmarkAllNotificationsRead,\n// označava sve\ngetNotificationTypes } from \"../api/api\";\nimport \"../css/Notifications.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction getTypeName(n) {\n  var _n$type, _n$notificationType;\n  // fleksibilno čitanje tipa (zavisno kako DTO izgleda)\n  return (n === null || n === void 0 ? void 0 : (_n$type = n.type) === null || _n$type === void 0 ? void 0 : _n$type.name) || (n === null || n === void 0 ? void 0 : (_n$notificationType = n.notificationType) === null || _n$notificationType === void 0 ? void 0 : _n$notificationType.name) || (n === null || n === void 0 ? void 0 : n.typeName) || (n === null || n === void 0 ? void 0 : n.type) || \"—\";\n}\nfunction getTitle(n) {\n  return n.notificationTitle || n.title || \"\";\n}\nfunction getBody(n) {\n  return n.message || n.notificationMessage || n.body || \"\";\n}\nexport default function Notifications() {\n  _s();\n  const [me, setMe] = useState(null);\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [err, setErr] = useState(\"\");\n  const [busy, setBusy] = useState(false);\n  const [typesMap, setTypesMap] = useState({}); // { [id]: name }\n\n  // UI state\n  const [showUnreadOnly, setShowUnreadOnly] = useState(false);\n  const [q, setQ] = useState(\"\");\n  const [sortBy, setSortBy] = useState(\"date_desc\"); // date_desc | date_asc | title_asc | title_desc | type_asc | type_desc\n\n  useEffect(() => {\n    let uid;\n    setLoading(true);\n    setErr(\"\");\n    getMe({\n      userId: 2\n    }).then(u => {\n      setMe(u);\n      uid = u.userId;\n      return getNotifications(uid); // sve\n    }).then(list => setItems(Array.isArray(list) ? list : [])).catch(e => setErr((e === null || e === void 0 ? void 0 : e.message) || \"Greška pri učitavanju notifikacija.\")).finally(() => setLoading(false));\n  }, []);\n\n  // filtrirano + sortirano\n  const visible = useMemo(() => {\n    let arr = items;\n\n    // 1) samo nepročitane?\n    if (showUnreadOnly) arr = arr.filter(n => !n.read);\n\n    // 2) pretraga po naslovu / poruci / tipu\n    const needle = q.trim().toLowerCase();\n    if (needle) {\n      arr = arr.filter(n => {\n        const title = getTitle(n).toLowerCase();\n        const body = getBody(n).toLowerCase();\n        const tname = getTypeName(n).toLowerCase();\n        return title.includes(needle) || body.includes(needle) || tname.includes(needle);\n      });\n    }\n\n    // 3) sortiranje\n    const cmp = new Intl.Collator(\"sr-RS\", {\n      sensitivity: \"base\"\n    }).compare;\n    arr = [...arr].sort((a, b) => {\n      const aDate = a.sentAt ? new Date(a.sentAt).getTime() : 0;\n      const bDate = b.sentAt ? new Date(b.sentAt).getTime() : 0;\n      const aTitle = getTitle(a);\n      const bTitle = getTitle(b);\n      const aType = getTypeName(a);\n      const bType = getTypeName(b);\n      switch (sortBy) {\n        case \"date_asc\":\n          return aDate - bDate;\n        case \"title_asc\":\n          return cmp(aTitle, bTitle);\n        case \"title_desc\":\n          return cmp(bTitle, aTitle);\n        case \"type_asc\":\n          return cmp(aType, bType);\n        case \"type_desc\":\n          return cmp(bType, aType);\n        case \"date_desc\":\n        default:\n          return bDate - aDate;\n      }\n    });\n    return arr;\n  }, [items, showUnreadOnly, q, sortBy]);\n\n  // označi jednu\n  async function handleMarkOne(id) {\n    setItems(prev => prev.map(n => {\n      var _n$notificationId;\n      return ((_n$notificationId = n.notificationId) !== null && _n$notificationId !== void 0 ? _n$notificationId : n.id) === id ? {\n        ...n,\n        read: true\n      } : n;\n    }));\n    try {\n      await markNotificationRead(id);\n    } catch (e) {\n      // rollback\n      setItems(prev => prev.map(n => {\n        var _n$notificationId2;\n        return ((_n$notificationId2 = n.notificationId) !== null && _n$notificationId2 !== void 0 ? _n$notificationId2 : n.id) === id ? {\n          ...n,\n          read: false\n        } : n;\n      }));\n    }\n  }\n\n  // označi sve\n  async function handleMarkAll() {\n    if (!(me !== null && me !== void 0 && me.userId)) return;\n    setBusy(true);\n    const snapshot = items;\n    setItems(prev => prev.map(n => ({\n      ...n,\n      read: true\n    })));\n    try {\n      await markAllNotificationsRead(me.userId);\n    } catch {\n      setItems(snapshot);\n    } finally {\n      setBusy(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notif-head\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Notifikacije\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notif-actions\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn ghost\",\n          to: \"/\",\n          children: \"Nazad na po\\u010Detnu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn primary\",\n          onClick: handleMarkAll,\n          disabled: busy,\n          children: \"Ozna\\u010Di sve kao pro\\u010Ditano\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"muted\",\n      style: {\n        marginBottom: 16\n      },\n      children: me ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [me.firstName, \" \", me.lastName, \" \\u2022 \", me.userEmail]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: \"U\\u010Ditavanje korisnika\\u2026\"\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toolbar-row toolbar-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"text\",\n          placeholder: \"Pretraga po naslovu, poruci ili tipu\\u2026\",\n          value: q,\n          onChange: e => setQ(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), q && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"clear\",\n          onClick: () => setQ(\"\"),\n          \"aria-label\": \"Obri\\u0161i pretragu\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"toggle\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: showUnreadOnly,\n          onChange: e => setShowUnreadOnly(e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Samo nepro\\u010Ditane\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sort-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"sort-label\",\n          children: \"Sort:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"select\",\n          value: sortBy,\n          onChange: e => setSortBy(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"date_desc\",\n            children: \"Datum \\u2193 (najnovije)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"date_asc\",\n            children: \"Datum \\u2191 (najstarije)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"title_asc\",\n            children: \"Naslov A\\u2013Z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"title_desc\",\n            children: \"Naslov Z\\u2013A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"type_asc\",\n            children: \"Tip A\\u2013Z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"type_desc\",\n            children: \"Tip Z\\u2013A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert error\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 15\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skeleton large\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }, this) : visible.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"muted\",\n      children: \"Nema notifikacija za prikaz.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"notif-table card\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"#\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Naslov\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Tip\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Poruka\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Poslato\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: visible.map((n, idx) => {\n          var _n$notificationId3;\n          const id = (_n$notificationId3 = n.notificationId) !== null && _n$notificationId3 !== void 0 ? _n$notificationId3 : n.id;\n          const sent = n.sentAt ? new Date(n.sentAt).toLocaleString() : \"\";\n          const tname = getTypeName(n);\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: n.read ? \"read\" : \"unread\",\n            title: n.read ? \"Pročitano\" : \"Nepročitano\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: idx + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"title\",\n              children: getTitle(n)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"type\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"pill\",\n                children: tname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"body\",\n              children: getBody(n)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"when\",\n              children: sent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: !n.read ? /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn ghost sm\",\n                onClick: () => handleMarkOne(id),\n                children: \"Ozna\\u010Di pro\\u010Ditano\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"badge\",\n                children: \"Pro\\u010Ditano\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 19\n            }, this)]\n          }, id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n}\n_s(Notifications, \"5AL+RaJbWWWbnxY2oCrZEwdUDqw=\");\n_c = Notifications;\nvar _c;\n$RefreshReg$(_c, \"Notifications\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","Link","getMe","getNotifications","markNotificationRead","markAllNotificationsRead","getNotificationTypes","jsxDEV","_jsxDEV","Fragment","_Fragment","getTypeName","n","_n$type","_n$notificationType","type","name","notificationType","typeName","getTitle","notificationTitle","title","getBody","message","notificationMessage","body","Notifications","_s","me","setMe","items","setItems","loading","setLoading","err","setErr","busy","setBusy","typesMap","setTypesMap","showUnreadOnly","setShowUnreadOnly","q","setQ","sortBy","setSortBy","uid","userId","then","u","list","Array","isArray","catch","e","finally","visible","arr","filter","read","needle","trim","toLowerCase","tname","includes","cmp","Intl","Collator","sensitivity","compare","sort","a","b","aDate","sentAt","Date","getTime","bDate","aTitle","bTitle","aType","bType","handleMarkOne","id","prev","map","_n$notificationId","notificationId","_n$notificationId2","handleMarkAll","snapshot","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","onClick","disabled","style","marginBottom","firstName","lastName","userEmail","placeholder","value","onChange","target","checked","length","idx","_n$notificationId3","sent","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/mikir/Documents/NetBeansProjects/NJT_Projekat/e_learning_platform_njt_frontend/src/pages/Notifications.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  getMe,\r\n  getNotifications,         // čita SVE notifikacije korisnika\r\n  markNotificationRead,      // označava jednu\r\n  markAllNotificationsRead,  // označava sve\r\n  getNotificationTypes\r\n} from \"../api/api\";\r\nimport \"../css/Notifications.css\";\r\n\r\nfunction getTypeName(n) {\r\n  // fleksibilno čitanje tipa (zavisno kako DTO izgleda)\r\n  return (\r\n    n?.type?.name ||\r\n    n?.notificationType?.name ||\r\n    n?.typeName ||\r\n    n?.type ||\r\n    \"—\"\r\n  );\r\n}\r\nfunction getTitle(n) {\r\n  return n.notificationTitle || n.title || \"\";\r\n}\r\nfunction getBody(n) {\r\n  return n.message || n.notificationMessage || n.body || \"\";\r\n}\r\n\r\nexport default function Notifications() {\r\n  const [me, setMe] = useState(null);\r\n  const [items, setItems] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [err, setErr] = useState(\"\");\r\n  const [busy, setBusy] = useState(false);\r\n  const [typesMap, setTypesMap] = useState({}); // { [id]: name }\r\n\r\n\r\n  // UI state\r\n  const [showUnreadOnly, setShowUnreadOnly] = useState(false);\r\n  const [q, setQ] = useState(\"\");\r\n  const [sortBy, setSortBy] = useState(\"date_desc\"); // date_desc | date_asc | title_asc | title_desc | type_asc | type_desc\r\n\r\n  useEffect(() => {\r\n    let uid;\r\n    setLoading(true);\r\n    setErr(\"\");\r\n    getMe({ userId: 2 })\r\n      .then((u) => {\r\n        setMe(u);\r\n        uid = u.userId;\r\n        return getNotifications(uid); // sve\r\n      })\r\n      .then((list) => setItems(Array.isArray(list) ? list : []))\r\n      .catch((e) => setErr(e?.message || \"Greška pri učitavanju notifikacija.\"))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  // filtrirano + sortirano\r\n  const visible = useMemo(() => {\r\n    let arr = items;\r\n\r\n    // 1) samo nepročitane?\r\n    if (showUnreadOnly) arr = arr.filter((n) => !n.read);\r\n\r\n    // 2) pretraga po naslovu / poruci / tipu\r\n    const needle = q.trim().toLowerCase();\r\n    if (needle) {\r\n      arr = arr.filter((n) => {\r\n        const title = getTitle(n).toLowerCase();\r\n        const body = getBody(n).toLowerCase();\r\n        const tname = getTypeName(n).toLowerCase();\r\n        return (\r\n          title.includes(needle) || body.includes(needle) || tname.includes(needle)\r\n        );\r\n      });\r\n    }\r\n\r\n    // 3) sortiranje\r\n    const cmp = new Intl.Collator(\"sr-RS\", { sensitivity: \"base\" }).compare;\r\n    arr = [...arr].sort((a, b) => {\r\n      const aDate = a.sentAt ? new Date(a.sentAt).getTime() : 0;\r\n      const bDate = b.sentAt ? new Date(b.sentAt).getTime() : 0;\r\n      const aTitle = getTitle(a);\r\n      const bTitle = getTitle(b);\r\n      const aType = getTypeName(a);\r\n      const bType = getTypeName(b);\r\n\r\n      switch (sortBy) {\r\n        case \"date_asc\":\r\n          return aDate - bDate;\r\n        case \"title_asc\":\r\n          return cmp(aTitle, bTitle);\r\n        case \"title_desc\":\r\n          return cmp(bTitle, aTitle);\r\n        case \"type_asc\":\r\n          return cmp(aType, bType);\r\n        case \"type_desc\":\r\n          return cmp(bType, aType);\r\n        case \"date_desc\":\r\n        default:\r\n          return bDate - aDate;\r\n      }\r\n    });\r\n\r\n    return arr;\r\n  }, [items, showUnreadOnly, q, sortBy]);\r\n\r\n  // označi jednu\r\n  async function handleMarkOne(id) {\r\n    setItems((prev) =>\r\n      prev.map((n) =>\r\n        (n.notificationId ?? n.id) === id ? { ...n, read: true } : n\r\n      )\r\n    );\r\n    try {\r\n      await markNotificationRead(id);\r\n    } catch (e) {\r\n      // rollback\r\n      setItems((prev) =>\r\n        prev.map((n) =>\r\n          (n.notificationId ?? n.id) === id ? { ...n, read: false } : n\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  // označi sve\r\n  async function handleMarkAll() {\r\n    if (!me?.userId) return;\r\n    setBusy(true);\r\n    const snapshot = items;\r\n    setItems((prev) => prev.map((n) => ({ ...n, read: true })));\r\n    try {\r\n      await markAllNotificationsRead(me.userId);\r\n    } catch {\r\n      setItems(snapshot);\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container section\">\r\n      <div className=\"notif-head\">\r\n        <h1>Notifikacije</h1>\r\n        <div className=\"notif-actions\">\r\n          <Link className=\"btn ghost\" to=\"/\">\r\n            Nazad na početnu\r\n          </Link>\r\n          <button className=\"btn primary\" onClick={handleMarkAll} disabled={busy}>\r\n            Označi sve kao pročitano\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"muted\" style={{ marginBottom: 16 }}>\r\n        {me ? (\r\n          <>\r\n            {me.firstName} {me.lastName} • {me.userEmail}\r\n          </>\r\n        ) : (\r\n          <>Učitavanje korisnika…</>\r\n        )}\r\n      </div>\r\n\r\n      {/* Toolbar: pretraga, filter i sort */}\r\n      <div className=\"toolbar-row toolbar-grid\">\r\n        <div className=\"search-wrap\">\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"Pretraga po naslovu, poruci ili tipu…\"\r\n            value={q}\r\n            onChange={(e) => setQ(e.target.value)}\r\n          />\r\n          {q && (\r\n            <button className=\"clear\" onClick={() => setQ(\"\")} aria-label=\"Obriši pretragu\">\r\n              ×\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        <label className=\"toggle\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={showUnreadOnly}\r\n            onChange={(e) => setShowUnreadOnly(e.target.checked)}\r\n          />\r\n          <span>Samo nepročitane</span>\r\n        </label>\r\n\r\n        <div className=\"sort-wrap\">\r\n          <label className=\"sort-label\">Sort:</label>\r\n          <select\r\n            className=\"select\"\r\n            value={sortBy}\r\n            onChange={(e) => setSortBy(e.target.value)}\r\n          >\r\n            <option value=\"date_desc\">Datum ↓ (najnovije)</option>\r\n            <option value=\"date_asc\">Datum ↑ (najstarije)</option>\r\n            <option value=\"title_asc\">Naslov A–Z</option>\r\n            <option value=\"title_desc\">Naslov Z–A</option>\r\n            <option value=\"type_asc\">Tip A–Z</option>\r\n            <option value=\"type_desc\">Tip Z–A</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      {err && <div className=\"alert error\">{err}</div>}\r\n      {loading ? (\r\n        <div className=\"skeleton large\" />\r\n      ) : visible.length === 0 ? (\r\n        <p className=\"muted\">Nema notifikacija za prikaz.</p>\r\n      ) : (\r\n        <table className=\"notif-table card\">\r\n          <thead>\r\n            <tr>\r\n              <th>#</th>\r\n              <th>Naslov</th>\r\n              <th>Tip</th>\r\n              <th>Poruka</th>\r\n              <th>Poslato</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {visible.map((n, idx) => {\r\n              const id = n.notificationId ?? n.id;\r\n              const sent = n.sentAt ? new Date(n.sentAt).toLocaleString() : \"\";\r\n              const tname = getTypeName(n);\r\n\r\n              return (\r\n                <tr\r\n                  key={id}\r\n                  className={n.read ? \"read\" : \"unread\"}\r\n                  title={n.read ? \"Pročitano\" : \"Nepročitano\"}\r\n                >\r\n                  <td>{idx + 1}</td>\r\n                  <td className=\"title\">{getTitle(n)}</td>\r\n                  <td className=\"type\">\r\n                    <span className=\"pill\">{tname}</span>\r\n                  </td>\r\n                  <td className=\"body\">{getBody(n)}</td>\r\n                  <td className=\"when\">{sent}</td>\r\n                  <td>\r\n                    {!n.read ? (\r\n                      <button\r\n                        className=\"btn ghost sm\"\r\n                        onClick={() => handleMarkOne(id)}\r\n                      >\r\n                        Označi pročitano\r\n                      </button>\r\n                    ) : (\r\n                      <span className=\"badge\">Pročitano</span>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}