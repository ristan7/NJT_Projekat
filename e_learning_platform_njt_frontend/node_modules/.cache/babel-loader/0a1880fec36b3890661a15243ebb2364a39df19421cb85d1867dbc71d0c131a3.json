{"ast":null,"code":"import http from \"./http\";\n\n// ---------- AUTH / USER ----------\nexport async function getMe() {\n  const {\n    data\n  } = await http.get(`/auth/me`);\n  return data; // { id, username, email, firstName, lastName, role }\n}\n\n// ---------- NOTIFICATIONS ----------\nexport async function getUnreadCount(userId) {\n  if (!userId) return 0;\n  try {\n    const {\n      data\n    } = await http.get(`/notifications/unread/count`, {\n      params: {\n        userId\n      }\n    });\n    return Number(data || 0);\n  } catch {\n    return 0;\n  }\n}\nexport async function getNotifications({\n  userId,\n  unread = false,\n  limit = 50\n} = {}) {\n  const params = {};\n  if (userId != null) params.userId = userId;\n  if (unread) params.unread = true;\n  if (limit != null) params.limit = limit;\n  const {\n    data\n  } = await http.get(`/notifications`, {\n    params\n  });\n  return data;\n}\nexport async function markNotificationRead(id) {\n  await http.post(`/notifications/${id}/read`);\n  return true;\n}\nexport async function markAllNotificationsRead(userId) {\n  await http.post(`/notifications/read-all`, null, {\n    params: {\n      userId\n    }\n  });\n  return true;\n}\nexport async function getNotificationTypes() {\n  const {\n    data\n  } = await http.get(`/notification-types`);\n  return data;\n}\nexport async function deleteNotification(id) {\n  await http.delete(`/notifications/${id}`);\n  return true;\n}\n\n// ---------- USERS (za formu „new notification“) ----------\nexport async function getUsers() {\n  // backend ruta je /api/auth/users (zato ovde /auth/users)\n  const {\n    data\n  } = await http.get(`/auth/users`);\n  return data;\n}\n\n// ---------- STUB KURSEVA ZA HOME ----------\nexport async function getRecommendedCourses() {\n  return Promise.resolve([{\n    id: 1,\n    title: \"Java for Beginners\",\n    meta: \"8h • 24 lessons\"\n  }, {\n    id: 2,\n    title: \"Spring Boot REST API\",\n    meta: \"6h • 18 lessons\"\n  }, {\n    id: 3,\n    title: \"React Basics\",\n    meta: \"5h • 15 lessons\"\n  }]);\n}","map":{"version":3,"names":["http","getMe","data","get","getUnreadCount","userId","params","Number","getNotifications","unread","limit","markNotificationRead","id","post","markAllNotificationsRead","getNotificationTypes","deleteNotification","delete","getUsers","getRecommendedCourses","Promise","resolve","title","meta"],"sources":["C:/Users/mikir/Documents/NetBeansProjects/NJT_Projekat/e_learning_platform_njt_frontend/src/api/api.js"],"sourcesContent":["import http from \"./http\";\r\n\r\n// ---------- AUTH / USER ----------\r\nexport async function getMe() {\r\n  const { data } = await http.get(`/auth/me`);\r\n  return data; // { id, username, email, firstName, lastName, role }\r\n}\r\n\r\n// ---------- NOTIFICATIONS ----------\r\nexport async function getUnreadCount(userId) {\r\n  if (!userId) return 0;\r\n  try {\r\n    const { data } = await http.get(`/notifications/unread/count`, { params: { userId } });\r\n    return Number(data || 0);\r\n  } catch {\r\n    return 0;\r\n  }\r\n}\r\n\r\nexport async function getNotifications({ userId, unread = false, limit = 50 } = {}) {\r\n  const params = {};\r\n  if (userId != null) params.userId = userId;\r\n  if (unread) params.unread = true;\r\n  if (limit != null) params.limit = limit;\r\n\r\n  const { data } = await http.get(`/notifications`, { params });\r\n  return data;\r\n}\r\n\r\nexport async function markNotificationRead(id) {\r\n  await http.post(`/notifications/${id}/read`);\r\n  return true;\r\n}\r\n\r\nexport async function markAllNotificationsRead(userId) {\r\n  await http.post(`/notifications/read-all`, null, { params: { userId } });\r\n  return true;\r\n}\r\n\r\nexport async function getNotificationTypes() {\r\n  const { data } = await http.get(`/notification-types`);\r\n  return data;\r\n}\r\n\r\nexport async function deleteNotification(id) {\r\n  await http.delete(`/notifications/${id}`);\r\n  return true;\r\n}\r\n\r\n// ---------- USERS (za formu „new notification“) ----------\r\nexport async function getUsers() {\r\n  // backend ruta je /api/auth/users (zato ovde /auth/users)\r\n  const { data } = await http.get(`/auth/users`);\r\n  return data;\r\n}\r\n\r\n// ---------- STUB KURSEVA ZA HOME ----------\r\nexport async function getRecommendedCourses() {\r\n  return Promise.resolve([\r\n    { id: 1, title: \"Java for Beginners\", meta: \"8h • 24 lessons\" },\r\n    { id: 2, title: \"Spring Boot REST API\", meta: \"6h • 18 lessons\" },\r\n    { id: 3, title: \"React Basics\", meta: \"5h • 15 lessons\" },\r\n  ]);\r\n}\r\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,QAAQ;;AAEzB;AACA,OAAO,eAAeC,KAAKA,CAAA,EAAG;EAC5B,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMF,IAAI,CAACG,GAAG,CAAC,UAAU,CAAC;EAC3C,OAAOD,IAAI,CAAC,CAAC;AACf;;AAEA;AACA,OAAO,eAAeE,cAAcA,CAACC,MAAM,EAAE;EAC3C,IAAI,CAACA,MAAM,EAAE,OAAO,CAAC;EACrB,IAAI;IACF,MAAM;MAAEH;IAAK,CAAC,GAAG,MAAMF,IAAI,CAACG,GAAG,CAAC,6BAA6B,EAAE;MAAEG,MAAM,EAAE;QAAED;MAAO;IAAE,CAAC,CAAC;IACtF,OAAOE,MAAM,CAACL,IAAI,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,MAAM;IACN,OAAO,CAAC;EACV;AACF;AAEA,OAAO,eAAeM,gBAAgBA,CAAC;EAAEH,MAAM;EAAEI,MAAM,GAAG,KAAK;EAAEC,KAAK,GAAG;AAAG,CAAC,GAAG,CAAC,CAAC,EAAE;EAClF,MAAMJ,MAAM,GAAG,CAAC,CAAC;EACjB,IAAID,MAAM,IAAI,IAAI,EAAEC,MAAM,CAACD,MAAM,GAAGA,MAAM;EAC1C,IAAII,MAAM,EAAEH,MAAM,CAACG,MAAM,GAAG,IAAI;EAChC,IAAIC,KAAK,IAAI,IAAI,EAAEJ,MAAM,CAACI,KAAK,GAAGA,KAAK;EAEvC,MAAM;IAAER;EAAK,CAAC,GAAG,MAAMF,IAAI,CAACG,GAAG,CAAC,gBAAgB,EAAE;IAAEG;EAAO,CAAC,CAAC;EAC7D,OAAOJ,IAAI;AACb;AAEA,OAAO,eAAeS,oBAAoBA,CAACC,EAAE,EAAE;EAC7C,MAAMZ,IAAI,CAACa,IAAI,CAAC,kBAAkBD,EAAE,OAAO,CAAC;EAC5C,OAAO,IAAI;AACb;AAEA,OAAO,eAAeE,wBAAwBA,CAACT,MAAM,EAAE;EACrD,MAAML,IAAI,CAACa,IAAI,CAAC,yBAAyB,EAAE,IAAI,EAAE;IAAEP,MAAM,EAAE;MAAED;IAAO;EAAE,CAAC,CAAC;EACxE,OAAO,IAAI;AACb;AAEA,OAAO,eAAeU,oBAAoBA,CAAA,EAAG;EAC3C,MAAM;IAAEb;EAAK,CAAC,GAAG,MAAMF,IAAI,CAACG,GAAG,CAAC,qBAAqB,CAAC;EACtD,OAAOD,IAAI;AACb;AAEA,OAAO,eAAec,kBAAkBA,CAACJ,EAAE,EAAE;EAC3C,MAAMZ,IAAI,CAACiB,MAAM,CAAC,kBAAkBL,EAAE,EAAE,CAAC;EACzC,OAAO,IAAI;AACb;;AAEA;AACA,OAAO,eAAeM,QAAQA,CAAA,EAAG;EAC/B;EACA,MAAM;IAAEhB;EAAK,CAAC,GAAG,MAAMF,IAAI,CAACG,GAAG,CAAC,aAAa,CAAC;EAC9C,OAAOD,IAAI;AACb;;AAEA;AACA,OAAO,eAAeiB,qBAAqBA,CAAA,EAAG;EAC5C,OAAOC,OAAO,CAACC,OAAO,CAAC,CACrB;IAAET,EAAE,EAAE,CAAC;IAAEU,KAAK,EAAE,oBAAoB;IAAEC,IAAI,EAAE;EAAkB,CAAC,EAC/D;IAAEX,EAAE,EAAE,CAAC;IAAEU,KAAK,EAAE,sBAAsB;IAAEC,IAAI,EAAE;EAAkB,CAAC,EACjE;IAAEX,EAAE,EAAE,CAAC;IAAEU,KAAK,EAAE,cAAc;IAAEC,IAAI,EAAE;EAAkB,CAAC,CAC1D,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}